---
title: "8-21-25 Notes"
output: html_document
date: "2025-08-21"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r}
data(mtcars)
```
The built-in R dataset, mtcars, has 11 variables:

- mpg (miles per gallon)  
- cyl (number of cylinders)  
- disp (displacement)  
- hp (horsepower)  
- drat (rear axle ratio)  
- wt (weight)  
- qsec (quarter mile time)  
- vs (engine type)  
- am (transmission type)  
- gear (number of forward gears)  
- carb (number of carburetors)  
    
The purpose of this project is to understand what impacts the quater mile time of cars in `mtcars`.

Below is a summary of the initial data set:
```{r,echo=FALSE}
data(mtcars)
summary(mtcars)
```

The first step of this process is to create a scatter plot for all other variables in relation to `qsec`. The following function was created to more efficiently create the graphs.
```{r}
#Plot qsec vs any variable
plot_mtcars <- function(var) {
  x <- mtcars[[var]]
  y <- mtcars$qsec
  
  plot(x, y,
       xlab = var,
       ylab = "Quarter Mile Time (qsec)",
       main = paste("Quarter Mile Time vs", var),)
}
```

Using that function all 10 plots were created. Examining the plots the quater mile time seemed related too:

``` {r, echo=FALSE}
plot_mtcars("hp")
plot_mtcars("vs")
plot_mtcars("am")
plot_mtcars("wt")
```

From these relationships multicollinearity concerns arise from the relationship between weight and horsepower. This relationship is shown by plotting the two together.
```{r, echo=FALSE}
plot(mtcars$wt, mtcars$hp,
     xlab = "Weight",
     ylab = "Horsepower",
     main = "Horsepower vs Weight",)

```

Having determined the model varibles an inital model was created through the `lm()` function in r.
```{r}
initial_model <- lm(qsec ~ hp + vs + am + wt, data = mtcars)
```

The model results are as follows:
```{r, echo=FALSE}
summary(initial_model)
```


#Analysis
As seen in the results, this model is close to centered and has an `R^2` value of `0.8268`. This shows that this model provides a good understanding to what is occurring to impact the quater mile time. To understand if this model could be improved the carb coefficient will be added to see if this improves the results. We will also remove the am coefficient as it has a high p-value in the initial model. These new functions are as follows:
```{r}
carb_model <- lm(qsec ~ hp + vs + am + wt + carb, data = mtcars)
am_model <- lm(qsec ~ hp + vs + wt, data = mtcars)
```

Next we will us an AIC to compare the initial model to the new models.
```{r, echo=FALSE}
AIC(carb_model,initial_model)
AIC(am_model,initial_model)
```

From the AIC test we can see that the initial model is the best fit for the data because it balences fit with parameter number. While the carb model has a higher `R^2` it uses too many parameters. The `am_model` has the opposite problem, having too low and `R^2` value. Therefore the model dependent on `hp`, `vs`, `am`, and `wt` is most ideal.

Next we will make QQ-plots of the variables used in the initial model to ensure normality, and to ensure that the model fits the data.
```{r}
# QQ plot of the weights of the cars in mtcars dataset
qqnorm(mtcars$wt)
qqline(mtcars$wt, col = "red",)
# QQ plot of the horsepower of the cars in the mtcars dataset.
qqnorm(mtcars$hp)
qqline(mtcars$hp, col = "red",)
# QQ plot of transmission type of the cars in the mtcars dataset
qqnorm(mtcars$am)
qqline(mtcars$am, col = "red",)
```
Because the distributions of the variables are normal as shown in the qqplots, the chosen model fits the dataset.

Conclusion:
We used the initial model because of its low amount of parameters, and low AIC value being 82.83573. This was the most reliable model we explored, and it produced the following results. The initial model chosen has shown that in the mtcars dataset, the cars' horsepower, weight, and engine type are all significant factors that affect the quarter mile time of cars in the dataset. This is shown in the fact that the p-value<0.05 for all of the variables listed above. The model also showed that, while transmission type did have a low p-value, it was not low enough to consider it a significant factor.

